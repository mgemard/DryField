<!DOCTYPE html>
<html>

<body>


    <button id="playButton" disabled>Jouer</button>
    <button id="scoresButton">Scores</button>
    <button id="goButton">Go</button>

    <div id="play" style="display:none">
        <span>Score:
            <span id="score">? harvest</span>
        </span>
        <span>Money:
            <span id="money">? $</span>
        </span>
        <span>Water:
            <span id="water">? L</span>
        </span>

        <div id="tableField"></div>

        <button id="openBuyWater">Buy water</button>

        <span id="buyWaterPopup" style="display:none">
            <input id="qtyBuyWater" value="1" type="number">
            <button id="buyWater">Buy</button>
        </span>

    </div>

    <div id="scores" style="display:none">
        <table>
            <tr>
                <th>Player</th>
                <th>Harvest count</th>
            </tr>
            <tr>
                <td id="joueur1"></td>
                <td id="nbHarvest1"></td>
            </tr>
            <tr>
                <td id="joueur2"></td>
                <td id="nbHarvest2"></td>
            </tr>
            <tr>
                <td id="joueur3"></td>
                <td id="nbHarvest3"></td>
            </tr>
            <tr>
                <td id="joueur4"></td>
                <td id="nbHarvest4"></td>
            </tr>
        </table>
    </div>

</body>

</html>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript" src="public/js/dryfieldEvents.js"></script>
<script type="text/javascript" src="public/js/eventEmitter.js"></script>
<script type="text/javascript" src="model/FieldModel.js"></script>
<script type="text/javascript" src="model/gameModel.js"></script>
<script type="text/javascript" src="view/gameView.js"></script>
<script type="text/javascript" src="controller/gameController.js"></script>
<script type="text/javascript" src="controller/soundController.js"></script>
<script>

    // on créer une fonction anonyme qui sera exécutée une fois le dom chargé
    var gameModel;
    document.addEventListener('DOMContentLoaded', function () {

        GameDefaultSettings = {
            waterPrice: 1,
            conso: 1,
            nbField: 3,
            fieldWaterInit: 21,
            waterInit: 3,
            interval: 1,
            webService: "http://localhost:3000/scores"
        }

        let fields = [];
        let gameView;
        let gameController;
        let soundController;

        gameModel = new GameModel(GameDefaultSettings);
        gameView = new GameView(gameModel);
        gameController = new GameController(gameView);
        // soundController = new SoundController(gameView);


        gameController.forceRefresh();

        // gameController.startGame();

    }, false);

</script>